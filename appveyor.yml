version: 1.0.{build}
image: ubuntu
stack: node 8

build_script:
- yarn
- yarn lint
- yarn build

after_build:
- yarn --production
- rm -rf .git .vscode coverage .gitignore README.md tsconfig.json tslint.json

artifacts:
- path: /
  name: Halcyon.Api
  type: Zip
  
deploy:
- provider: Environment
  name: halcyon-node-api
